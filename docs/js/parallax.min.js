let viewportTop=document.documentElement.clientHeight,parallaxParent=(window.addEventListener("scroll",parallax),document.querySelectorAll("[data-parallax-parent]")),parallaxElement=document.querySelectorAll("[data-parallax-element]"),smallerElement,smallerElementHeight,smallerElementSpeed,parentHeight,heightDifference,tranfsorm,currentTransform;function parallax(e){parallaxParent.forEach(e=>{e.getBoundingClientRect().top<=+viewportTop&&(smallerElement=e.firstElementChild.getBoundingClientRect().height>e.firstElementChild.nextElementSibling.getBoundingClientRect().height?e.firstElementChild.nextElementSibling:e.firstElementChild,console.clear(),console.log(e.getBoundingClientRect().top),console.log("Прокрутка сверху = "+window.pageYOffset),parentHeight=e.getBoundingClientRect().height,console.log("Высота родителя = "+parentHeight),smallerElementHeight=smallerElement.getBoundingClientRect().height,console.log("Высота блока = "+smallerElementHeight),heightDifference=parentHeight-smallerElementHeight,console.log("Разница высот = "+heightDifference),smallerElementSpeed=parentHeight/smallerElementHeight,smallerElementSpeed=parentHeight/heightDifference,console.log("Скорость сдвига = "+smallerElementSpeed),tranfsorm=window.pageYOffset/smallerElementSpeed,currentTransform=parseInt(smallerElement.style.transform.match(/[-0-9.]+(?=px)/)),console.log("Текущий трансформ = "+currentTransform),currentTransform<heightDifference||window.pageYOffset<heightDifference||window.pageYOffset<currentTransform)&&(smallerElement.style.transform=`translateY(${tranfsorm-3}px)`)})}console.log(parallaxElement),parallaxElement.forEach(e=>{e.style.transform="translateY(0px)"}),parallax();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyYWxsYXgubWluLmpzIiwic291cmNlcyI6WyJwYXJhbGxheC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdmlld3BvcnRUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBwYXJhbGxheCk7XHJcblxyXG5sZXQgcGFyYWxsYXhQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcGFyYWxsYXgtcGFyZW50XVwiKTtcclxubGV0IHBhcmFsbGF4RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wYXJhbGxheC1lbGVtZW50XVwiKTtcclxubGV0IHNtYWxsZXJFbGVtZW50O1xyXG5sZXQgc21hbGxlckVsZW1lbnRIZWlnaHQ7XHJcbmxldCBzbWFsbGVyRWxlbWVudFNwZWVkO1xyXG5sZXQgcGFyZW50SGVpZ2h0O1xyXG5sZXQgaGVpZ2h0RGlmZmVyZW5jZTtcclxubGV0IHRyYW5mc29ybTtcclxubGV0IGN1cnJlbnRUcmFuc2Zvcm07XHJcbmNvbnNvbGUubG9nKHBhcmFsbGF4RWxlbWVudCk7XHJcblxyXG5wYXJhbGxheEVsZW1lbnQuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgZWwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDBweClcIjtcclxufSk7XHJcbnBhcmFsbGF4KCk7XHJcbmZ1bmN0aW9uIHBhcmFsbGF4KGUpIHtcclxuICAgcGFyYWxsYXhQYXJlbnQuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgaWYgKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCA8PSB2aWV3cG9ydFRvcCAvIDEpIHtcclxuICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBlbC5maXJzdEVsZW1lbnRDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgPlxyXG4gICAgICAgICAgICBlbC5maXJzdEVsZW1lbnRDaGlsZC5uZXh0RWxlbWVudFNpYmxpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0XHJcbiAgICAgICAgICkge1xyXG4gICAgICAgICAgICBzbWFsbGVyRWxlbWVudCA9IGVsLmZpcnN0RWxlbWVudENoaWxkLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc21hbGxlckVsZW1lbnQgPSBlbC5maXJzdEVsZW1lbnRDaGlsZDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICBjb25zb2xlLmNsZWFyKCk7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwi0J/RgNC+0LrRgNGD0YLQutCwINGB0LLQtdGA0YXRgyA9IFwiICsgd2luZG93LnBhZ2VZT2Zmc2V0KTtcclxuICAgICAgICAgLy8gY29uc29sZS5sb2coXCLQktGL0YHQvtGC0LAg0LLRjNGO0L/QvtGA0YLQsCA9IFwiICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCk7XHJcbiAgICAgICAgIHBhcmVudEhlaWdodCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgY29uc29sZS5sb2coXCLQktGL0YHQvtGC0LAg0YDQvtC00LjRgtC10LvRjyA9IFwiICsgcGFyZW50SGVpZ2h0KTtcclxuICAgICAgICAgc21hbGxlckVsZW1lbnRIZWlnaHQgPSBzbWFsbGVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwi0JLRi9GB0L7RgtCwINCx0LvQvtC60LAgPSBcIiArIHNtYWxsZXJFbGVtZW50SGVpZ2h0KTtcclxuICAgICAgICAgaGVpZ2h0RGlmZmVyZW5jZSA9IHBhcmVudEhlaWdodCAtIHNtYWxsZXJFbGVtZW50SGVpZ2h0O1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcItCg0LDQt9C90LjRhtCwINCy0YvRgdC+0YIgPSBcIiArIGhlaWdodERpZmZlcmVuY2UpO1xyXG4gICAgICAgICBzbWFsbGVyRWxlbWVudFNwZWVkID0gcGFyZW50SGVpZ2h0IC8gc21hbGxlckVsZW1lbnRIZWlnaHQ7XHJcbiAgICAgICAgIHNtYWxsZXJFbGVtZW50U3BlZWQgPSBwYXJlbnRIZWlnaHQgLyBoZWlnaHREaWZmZXJlbmNlO1xyXG4gICAgICAgICAvLyBzbWFsbGVyRWxlbWVudFNwZWVkID0gMS4xO1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcItCh0LrQvtGA0L7RgdGC0Ywg0YHQtNCy0LjQs9CwID0gXCIgKyBzbWFsbGVyRWxlbWVudFNwZWVkKTtcclxuICAgICAgICAgdHJhbmZzb3JtID0gd2luZG93LnBhZ2VZT2Zmc2V0IC8gc21hbGxlckVsZW1lbnRTcGVlZDtcclxuICAgICAgICAgY3VycmVudFRyYW5zZm9ybSA9IHBhcnNlSW50KHNtYWxsZXJFbGVtZW50LnN0eWxlLnRyYW5zZm9ybS5tYXRjaCgvWy0wLTkuXSsoPz1weCkvKSk7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwi0KLQtdC60YPRidC40Lkg0YLRgNCw0L3RgdGE0L7RgNC8ID0gXCIgKyBjdXJyZW50VHJhbnNmb3JtKTtcclxuXHJcbiAgICAgICAgIC8vICEgRG9uZVxyXG4gICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGN1cnJlbnRUcmFuc2Zvcm0gPCBoZWlnaHREaWZmZXJlbmNlIHx8XHJcbiAgICAgICAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCA8IGhlaWdodERpZmZlcmVuY2UgfHxcclxuICAgICAgICAgICAgd2luZG93LnBhZ2VZT2Zmc2V0IDwgY3VycmVudFRyYW5zZm9ybVxyXG4gICAgICAgICApIHtcclxuICAgICAgICAgICAgc21hbGxlckVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHt0cmFuZnNvcm0gLSAzfXB4KWA7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICB9KTtcclxufVxyXG4iXSwibmFtZXMiOlsibGV0Iiwidmlld3BvcnRUb3AiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsInBhcmFsbGF4UGFyZW50Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhcmFsbGF4IiwicXVlcnlTZWxlY3RvckFsbCIsInBhcmFsbGF4RWxlbWVudCIsInNtYWxsZXJFbGVtZW50Iiwic21hbGxlckVsZW1lbnRIZWlnaHQiLCJzbWFsbGVyRWxlbWVudFNwZWVkIiwicGFyZW50SGVpZ2h0IiwiaGVpZ2h0RGlmZmVyZW5jZSIsInRyYW5mc29ybSIsImN1cnJlbnRUcmFuc2Zvcm0iLCJlIiwiZm9yRWFjaCIsImVsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJoZWlnaHQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjb25zb2xlIiwiY2xlYXIiLCJsb2ciLCJwYWdlWU9mZnNldCIsInBhcnNlSW50Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJtYXRjaCJdLCJtYXBwaW5ncyI6IkFBQUFBLElBQUlDLFlBQWNDLFNBQVNDLGdCQUFnQkMsYUFHdkNDLGdCQUZKQyxPQUFPQyxpQkFBaUIsU0FBVUMsUUFBUSxFQUVyQk4sU0FBU08saUJBQWlCLHdCQUF3QixHQUNuRUMsZ0JBQWtCUixTQUFTTyxpQkFBaUIseUJBQXlCLEVBQ3JFRSxlQUNBQyxxQkFDQUMsb0JBQ0FDLGFBQ0FDLGlCQUNBQyxVQUNBQyxpQkFPSixTQUFTVCxTQUFTVSxHQUNmYixlQUFlYyxRQUFRLElBQ2hCQyxFQUFHQyxzQkFBc0IsRUFBRUMsS0FBT3JCLENBQUFBLGNBS2hDVSxlQUhBUyxFQUFHRyxrQkFBa0JGLHNCQUFzQixFQUFFRyxPQUM3Q0osRUFBR0csa0JBQWtCRSxtQkFBbUJKLHNCQUFzQixFQUFFRyxPQUUvQ0osRUFBR0csa0JBQWtCRSxtQkFFckJMLEVBQUdHLGtCQUV2QkcsUUFBUUMsTUFBTSxFQUNkRCxRQUFRRSxJQUFJUixFQUFHQyxzQkFBc0IsRUFBRUMsR0FBRyxFQUMxQ0ksUUFBUUUsSUFBSSxzQkFBd0J0QixPQUFPdUIsV0FBVyxFQUV0RGYsYUFBZU0sRUFBR0Msc0JBQXNCLEVBQUVHLE9BQzFDRSxRQUFRRSxJQUFJLHFCQUF1QmQsWUFBWSxFQUMvQ0YscUJBQXVCRCxlQUFlVSxzQkFBc0IsRUFBRUcsT0FDOURFLFFBQVFFLElBQUksa0JBQW9CaEIsb0JBQW9CLEVBQ3BERyxpQkFBbUJELGFBQWVGLHFCQUNsQ2MsUUFBUUUsSUFBSSxtQkFBcUJiLGdCQUFnQixFQUNqREYsb0JBQXNCQyxhQUFlRixxQkFDckNDLG9CQUFzQkMsYUFBZUMsaUJBRXJDVyxRQUFRRSxJQUFJLHFCQUF1QmYsbUJBQW1CLEVBQ3RERyxVQUFZVixPQUFPdUIsWUFBY2hCLG9CQUNqQ0ksaUJBQW1CYSxTQUFTbkIsZUFBZW9CLE1BQU1DLFVBQVVDLE1BQU0sZ0JBQWdCLENBQUMsRUFDbEZQLFFBQVFFLElBQUksdUJBQXlCWCxnQkFBZ0IsRUFJbERBLGlCQUFtQkYsa0JBQ25CVCxPQUFPdUIsWUFBY2Qsa0JBQ3JCVCxPQUFPdUIsWUFBY1osb0JBRXJCTixlQUFlb0IsTUFBTUMsd0JBQTBCaEIsVUFBWSxPQUdwRSxDQUFDLENBQ0osQ0E3Q0FVLFFBQVFFLElBQUlsQixlQUFlLEVBRTNCQSxnQkFBZ0JTLFFBQVEsSUFDckJDLEVBQUdXLE1BQU1DLFVBQVksaUJBQ3hCLENBQUMsRUFDRHhCLFNBQVMifQ==
