let viewportTop=document.documentElement.clientHeight,parallaxParent=(768<window.innerWidth&&window.addEventListener("scroll",parallax),document.querySelectorAll("[data-parallax-parent]")),parallaxElement=document.querySelectorAll("[data-parallax-element]"),smallerElement,smallerElementHeight,smallerElementSpeed,parentHeight,heightDifference,tranfsorm,currentTransform;function parallax(e){parallaxParent.forEach(e=>{e.getBoundingClientRect().top<=+viewportTop&&(smallerElement=e.firstElementChild.getBoundingClientRect().height>e.firstElementChild.nextElementSibling.getBoundingClientRect().height?e.firstElementChild.nextElementSibling:e.firstElementChild,console.clear(),console.log(e.getBoundingClientRect().top),console.log("Прокрутка сверху = "+window.pageYOffset),parentHeight=e.getBoundingClientRect().height,console.log("Высота родителя = "+parentHeight),smallerElementHeight=smallerElement.getBoundingClientRect().height,console.log("Высота блока = "+smallerElementHeight),heightDifference=parentHeight-smallerElementHeight,console.log("Разница высот = "+heightDifference),smallerElementSpeed=parentHeight/heightDifference,console.log("Скорость сдвига = "+smallerElementSpeed),tranfsorm=window.pageYOffset/smallerElementSpeed,currentTransform=parseInt(smallerElement.style.transform.match(/[-0-9.]+(?=px)/)),console.log("Текущий трансформ = "+currentTransform),currentTransform<heightDifference||window.pageYOffset<heightDifference||window.pageYOffset<currentTransform)&&window.pageYOffset<parentHeight&&(smallerElement.style.transform=`translateY(${tranfsorm}px)`)})}console.log(parallaxElement),parallaxElement.forEach(e=>{e.style.transform="translateY(0px)"}),parallax();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyYWxsYXgubWluLmpzIiwic291cmNlcyI6WyJwYXJhbGxheC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdmlld3BvcnRUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xyXG5pZiAod2luZG93LmlubmVyV2lkdGggPiA3NjgpIHtcclxuICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgcGFyYWxsYXgpO1xyXG59XHJcbmxldCBwYXJhbGxheFBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wYXJhbGxheC1wYXJlbnRdXCIpO1xyXG5sZXQgcGFyYWxsYXhFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXBhcmFsbGF4LWVsZW1lbnRdXCIpO1xyXG5sZXQgc21hbGxlckVsZW1lbnQ7XHJcbmxldCBzbWFsbGVyRWxlbWVudEhlaWdodDtcclxubGV0IHNtYWxsZXJFbGVtZW50U3BlZWQ7XHJcbmxldCBwYXJlbnRIZWlnaHQ7XHJcbmxldCBoZWlnaHREaWZmZXJlbmNlO1xyXG5sZXQgdHJhbmZzb3JtO1xyXG5sZXQgY3VycmVudFRyYW5zZm9ybTtcclxuY29uc29sZS5sb2cocGFyYWxsYXhFbGVtZW50KTtcclxuXHJcbnBhcmFsbGF4RWxlbWVudC5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICBlbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMHB4KVwiO1xyXG59KTtcclxucGFyYWxsYXgoKTtcclxuZnVuY3Rpb24gcGFyYWxsYXgoZSkge1xyXG4gICBwYXJhbGxheFBhcmVudC5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICBpZiAoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIDw9IHZpZXdwb3J0VG9wIC8gMSkge1xyXG4gICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGVsLmZpcnN0RWxlbWVudENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA+XHJcbiAgICAgICAgICAgIGVsLmZpcnN0RWxlbWVudENoaWxkLm5leHRFbGVtZW50U2libGluZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcclxuICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHNtYWxsZXJFbGVtZW50ID0gZWwuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzbWFsbGVyRWxlbWVudCA9IGVsLmZpcnN0RWxlbWVudENoaWxkO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIGNvbnNvbGUuY2xlYXIoKTtcclxuICAgICAgICAgY29uc29sZS5sb2coZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKTtcclxuICAgICAgICAgY29uc29sZS5sb2coXCLQn9GA0L7QutGA0YPRgtC60LAg0YHQstC10YDRhdGDID0gXCIgKyB3aW5kb3cucGFnZVlPZmZzZXQpO1xyXG4gICAgICAgICAvLyBjb25zb2xlLmxvZyhcItCS0YvRgdC+0YLQsCDQstGM0Y7Qv9C+0YDRgtCwID0gXCIgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcclxuICAgICAgICAgcGFyZW50SGVpZ2h0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcItCS0YvRgdC+0YLQsCDRgNC+0LTQuNGC0LXQu9GPID0gXCIgKyBwYXJlbnRIZWlnaHQpO1xyXG4gICAgICAgICBzbWFsbGVyRWxlbWVudEhlaWdodCA9IHNtYWxsZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgY29uc29sZS5sb2coXCLQktGL0YHQvtGC0LAg0LHQu9C+0LrQsCA9IFwiICsgc21hbGxlckVsZW1lbnRIZWlnaHQpO1xyXG4gICAgICAgICBoZWlnaHREaWZmZXJlbmNlID0gcGFyZW50SGVpZ2h0IC0gc21hbGxlckVsZW1lbnRIZWlnaHQ7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwi0KDQsNC30L3QuNGG0LAg0LLRi9GB0L7RgiA9IFwiICsgaGVpZ2h0RGlmZmVyZW5jZSk7XHJcbiAgICAgICAgIHNtYWxsZXJFbGVtZW50U3BlZWQgPSBwYXJlbnRIZWlnaHQgLyBoZWlnaHREaWZmZXJlbmNlO1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcItCh0LrQvtGA0L7RgdGC0Ywg0YHQtNCy0LjQs9CwID0gXCIgKyBzbWFsbGVyRWxlbWVudFNwZWVkKTtcclxuICAgICAgICAgdHJhbmZzb3JtID0gd2luZG93LnBhZ2VZT2Zmc2V0IC8gc21hbGxlckVsZW1lbnRTcGVlZDtcclxuICAgICAgICAgY3VycmVudFRyYW5zZm9ybSA9IHBhcnNlSW50KHNtYWxsZXJFbGVtZW50LnN0eWxlLnRyYW5zZm9ybS5tYXRjaCgvWy0wLTkuXSsoPz1weCkvKSk7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwi0KLQtdC60YPRidC40Lkg0YLRgNCw0L3RgdGE0L7RgNC8ID0gXCIgKyBjdXJyZW50VHJhbnNmb3JtKTtcclxuXHJcbiAgICAgICAgIC8vICEgRG9uZVxyXG4gICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIChjdXJyZW50VHJhbnNmb3JtIDwgaGVpZ2h0RGlmZmVyZW5jZSB8fFxyXG4gICAgICAgICAgICAgICB3aW5kb3cucGFnZVlPZmZzZXQgPCBoZWlnaHREaWZmZXJlbmNlIHx8XHJcbiAgICAgICAgICAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCA8IGN1cnJlbnRUcmFuc2Zvcm0pICYmXHJcbiAgICAgICAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCA8IHBhcmVudEhlaWdodFxyXG4gICAgICAgICApIHtcclxuICAgICAgICAgICAgc21hbGxlckVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHt0cmFuZnNvcm19cHgpYDtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJsZXQiLCJ2aWV3cG9ydFRvcCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwicGFyYWxsYXhQYXJlbnQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhcmFsbGF4IiwicXVlcnlTZWxlY3RvckFsbCIsInBhcmFsbGF4RWxlbWVudCIsInNtYWxsZXJFbGVtZW50Iiwic21hbGxlckVsZW1lbnRIZWlnaHQiLCJzbWFsbGVyRWxlbWVudFNwZWVkIiwicGFyZW50SGVpZ2h0IiwiaGVpZ2h0RGlmZmVyZW5jZSIsInRyYW5mc29ybSIsImN1cnJlbnRUcmFuc2Zvcm0iLCJlIiwiZm9yRWFjaCIsImVsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJoZWlnaHQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjb25zb2xlIiwiY2xlYXIiLCJsb2ciLCJwYWdlWU9mZnNldCIsInBhcnNlSW50Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJtYXRjaCJdLCJtYXBwaW5ncyI6IkFBQUFBLElBQUlDLFlBQWNDLFNBQVNDLGdCQUFnQkMsYUFJdkNDLGdCQUhvQixJQUFwQkMsT0FBT0MsWUFDUkQsT0FBT0UsaUJBQWlCLFNBQVVDLFFBQVEsRUFFeEJQLFNBQVNRLGlCQUFpQix3QkFBd0IsR0FDbkVDLGdCQUFrQlQsU0FBU1EsaUJBQWlCLHlCQUF5QixFQUNyRUUsZUFDQUMscUJBQ0FDLG9CQUNBQyxhQUNBQyxpQkFDQUMsVUFDQUMsaUJBT0osU0FBU1QsU0FBU1UsR0FDZmQsZUFBZWUsUUFBUSxJQUNoQkMsRUFBR0Msc0JBQXNCLEVBQUVDLEtBQU90QixDQUFBQSxjQUtoQ1csZUFIQVMsRUFBR0csa0JBQWtCRixzQkFBc0IsRUFBRUcsT0FDN0NKLEVBQUdHLGtCQUFrQkUsbUJBQW1CSixzQkFBc0IsRUFBRUcsT0FFL0NKLEVBQUdHLGtCQUFrQkUsbUJBRXJCTCxFQUFHRyxrQkFFdkJHLFFBQVFDLE1BQU0sRUFDZEQsUUFBUUUsSUFBSVIsRUFBR0Msc0JBQXNCLEVBQUVDLEdBQUcsRUFDMUNJLFFBQVFFLElBQUksc0JBQXdCdkIsT0FBT3dCLFdBQVcsRUFFdERmLGFBQWVNLEVBQUdDLHNCQUFzQixFQUFFRyxPQUMxQ0UsUUFBUUUsSUFBSSxxQkFBdUJkLFlBQVksRUFDL0NGLHFCQUF1QkQsZUFBZVUsc0JBQXNCLEVBQUVHLE9BQzlERSxRQUFRRSxJQUFJLGtCQUFvQmhCLG9CQUFvQixFQUNwREcsaUJBQW1CRCxhQUFlRixxQkFDbENjLFFBQVFFLElBQUksbUJBQXFCYixnQkFBZ0IsRUFDakRGLG9CQUFzQkMsYUFBZUMsaUJBQ3JDVyxRQUFRRSxJQUFJLHFCQUF1QmYsbUJBQW1CLEVBQ3RERyxVQUFZWCxPQUFPd0IsWUFBY2hCLG9CQUNqQ0ksaUJBQW1CYSxTQUFTbkIsZUFBZW9CLE1BQU1DLFVBQVVDLE1BQU0sZ0JBQWdCLENBQUMsRUFDbEZQLFFBQVFFLElBQUksdUJBQXlCWCxnQkFBZ0IsRUFJakRBLGlCQUFtQkYsa0JBQ2pCVixPQUFPd0IsWUFBY2Qsa0JBQ3JCVixPQUFPd0IsWUFBY1osbUJBQ3hCWixPQUFPd0IsWUFBY2YsZUFFckJILGVBQWVvQixNQUFNQyx3QkFBMEJoQixlQUd4RCxDQUFDLENBQ0osQ0E1Q0FVLFFBQVFFLElBQUlsQixlQUFlLEVBRTNCQSxnQkFBZ0JTLFFBQVEsSUFDckJDLEVBQUdXLE1BQU1DLFVBQVksaUJBQ3hCLENBQUMsRUFDRHhCLFNBQVMifQ==
